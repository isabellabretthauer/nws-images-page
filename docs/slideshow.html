<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ðŸ“Š Full-Screen Slideshow</title>
  <link rel="stylesheet" href="./assets/style.css">
</head>
<body>
  <h1>ðŸ“Š Full-Screen Slideshow</h1>
  <h2 class="subtitle">Melbourne, FL</h2>

  <div class="slideshow"></div>
  <p id="data-caption">Images retrieved from the National Weather Service (NWS)</p>

  <script>
  // Wrap so DOM is ready (optional if this is at the end of <body>)
  document.addEventListener('DOMContentLoaded', () => {
    const files = [
      '2.png','6.png','7.png',
      'Climate.png','Forecast.png','KMLB_loop.gif'
    ];
    const base = './images/';
    const container = document.querySelector('.slideshow');
    const slides = [];
    let attempts = 0;

    function tryStart() {
      if (attempts === files.length && slides.length) {
        let idx = 0;
        slides[0].classList.add('active');
        setInterval(() => {
          slides[idx].classList.remove('active');
          idx = (idx + 1) % slides.length;
          slides[idx].classList.add('active');
        }, 10000);
      }
    }

    files.forEach(name => {
      const img = new Image();
      img.src = base + name;
      img.onload = () => {
        // **Match index.html**: add the 'slide' class
        img.classList.add('slide');
        container.appendChild(img);
        slides.push(img);
        attempts++;
        tryStart();
      };
      img.onerror = () => {
        console.warn(`Skipping missing image: ${name}`);
        attempts++;
        tryStart();
      };
    });
  });
  </script>
</body>
</html>

